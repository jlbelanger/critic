!function(){var e={8693:function(){function e(e){return e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave the page?"}function t(){window.addEventListener("beforeunload",e,{capture:!0})}function n(){window.removeEventListener("beforeunload",e,{capture:!0})}!function(){const e=document.getElementById("form");if(e){e.querySelectorAll("input,select,textarea").forEach((e=>{e.addEventListener("keyup",t),e.addEventListener("change",t)})),e.addEventListener("submit",n)}}()},2563:function(){!function(){const e=document.getElementById("nav-show"),t=e.getAttribute("aria-controls"),n=document.getElementById(t),a="function"==typeof HTMLDialogElement,o=()=>{const e=document.getElementById(`${t}-dialog`);document.body.classList.remove(`show-${t}`),a&&e.close(),e.parentNode.appendChild(n),e.remove(),n.removeEventListener("transitionend",o)},r=()=>{window.removeEventListener("resize",s),e.setAttribute("aria-expanded","false"),document.body.classList.remove(`animate-${t}`),n.addEventListener("transitionend",o)},s=()=>{window.innerWidth>=1024&&(r(),o())},l=e=>{e.preventDefault(),r(e.target)},c=e=>{"DIALOG"===e.target.tagName&&r(e.target)},d=()=>{if(window.innerWidth>=1024)return;e.setAttribute("aria-expanded","true");const o=document.createElement(a?"dialog":"div");o.setAttribute("id",`${t}-dialog`),a&&(o.addEventListener("cancel",l),o.addEventListener("click",c));const d=document.createElement("button");d.setAttribute("aria-controls",t),d.setAttribute("aria-expanded","true"),d.setAttribute("class","button--icon"),d.setAttribute("id",`${t}-close`),d.setAttribute("title","Close Menu"),d.setAttribute("type","button"),d.innerText="Close Menu",d.addEventListener("click",(()=>{r(document.getElementById(`${t}-dialog`))})),o.appendChild(d),document.body.classList.add(`show-${t}`);const i=n.parentNode;n.remove(),o.appendChild(n),i.appendChild(o),a&&o.showModal(),window.addEventListener("resize",s),setTimeout((()=>{document.body.classList.add(`animate-${t}`)}),10)};e.addEventListener("click",d)}()},9234:function(){function e(e,t=2,n="0"){return n=n||"0",(e=e.toString()).length>=t?e:new Array(t-e.length+1).join(n)+e}function t(){const t=new Date,n=`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`;document.getElementById("start_date").value=n}!function(){const e=document.querySelector('[data-action="today"]');e&&e.addEventListener("click",t)}()},6466:function(){function e(){const e=document.getElementById("type").value;document.querySelectorAll("[data-show-for-type]").forEach((t=>{t.getAttribute("data-show-for-type").split(",").includes(e)?t.classList.remove("hide"):t.classList.add("hide")}))}!function(){const t=document.getElementById("type");t&&(t.addEventListener("change",e),e())}()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}!function(){"use strict";var e=(e,t,n)=>{let a;return function(...o){const r=this,s=n&&!a;clearTimeout(a),a=setTimeout((()=>{a=null,n||e.apply(r,o)}),t),s&&e.apply(r,o)}},t=e=>e?e.toLowerCase().replace(/ & /g,"-and-").replace(/<[^>]+>/g,"").replace(/['â€™.]/g,"").replace(/[^a-z0-9-]+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/--+/g,"-"):"";function a(n){const a=n.getAttribute("data-autocomplete"),o=n.getAttribute("data-autocomplete-name"),r=n.querySelector(".autocomplete__input"),s=n.querySelector(".autocomplete__clear"),l=n.querySelector(".autocomplete__results"),c=n.querySelector(".autocomplete__results-list"),d=n.querySelector(".autocomplete__results-none"),i=n.querySelector(".autocomplete__selected-list");let u="",m=null,p=!1,b=n.querySelector("[data-autocomplete-value]").value;b&&(b=JSON.parse(b));const v=()=>{l.classList.add("hide"),c.innerText=""},y=()=>{n.classList.remove("clearable")},g=e=>{const t=e.target.getAttribute("data-id");e.target.closest("li").remove(),r.focus();const n=b.findIndex((e=>e.id===t));n>-1&&(b.splice(n,1),b.length<=0&&i.classList.add("hide"))},h=e=>{const t=document.createElement("li");t.setAttribute("class","autocomplete__selected-item");const n=document.createElement("input");n.setAttribute("name",`${o}[]`),n.setAttribute("type","hidden"),n.setAttribute("value",e.id),t.appendChild(n);const a=document.createElement("a");a.setAttribute("class","autocomplete__selected-link"),a.setAttribute("href",e.url),a.innerText=e.title,t.appendChild(a);const s=document.createElement("button");s.setAttribute("class","autocomplete__selected-button"),s.setAttribute("data-id",e.id),s.setAttribute("type","button"),s.addEventListener("click",g),s.innerText="Remove",t.appendChild(s),i.appendChild(t),i.classList.remove("hide"),r.value="",u="",v(),y()},A=e=>{let t=e.target;"BUTTON"!==t.tagName&&(t=t.closest("button"));const n={id:t.getAttribute("data-id"),url:t.getAttribute("data-url"),title:t.innerText};b.push(n),h(n),r.focus()},f=e=>{document.querySelector("[data-selected]").removeAttribute("data-selected");const t=e.target.closest(".autocomplete__results-item");t.setAttribute("data-selected",1),m=parseInt(t.getAttribute("data-index"),10)},E=e=>{p||(p=!0,n.classList.add("loading"),fetch(`${a}${e}`).then((e=>e.json())).then((e=>{n.classList.remove("loading");let t=!1,a=0;c.innerText="",e.items.forEach((e=>{if(b.findIndex((t=>t.id===e.id))>-1)return;const n=((e,t)=>{const n=document.createElement("li");n.setAttribute("class","autocomplete__results-item"),n.setAttribute("data-index",e),0===e&&(n.setAttribute("data-selected",1),m=e);const a=document.createElement("button");return a.setAttribute("class","autocomplete__results-button"),a.setAttribute("data-id",t.id),a.setAttribute("data-url",t.url),a.setAttribute("type","button"),a.innerText=t.title,a.addEventListener("click",A),a.addEventListener("mouseover",f),n.appendChild(a),n})(a,e);c.appendChild(n),a+=1,t=!0})),l.classList.remove("hide"),t?(d.classList.add("hide"),c.classList.remove("hide"),c.firstChild.scrollIntoView({block:"nearest"})):(d.classList.remove("hide"),c.classList.add("hide")),p=!1})))},L=e=>{"Enter"===e.key&&r.value&&e.preventDefault()},w=()=>{const e=t(r.value);e?(n.classList.add("clearable"),e!==u&&(u=e,E(e))):(y(),u="",v())},_=()=>"none"!==l.style.display,k=()=>{const e=t(r.value);e&&!_()&&E(e)},x=e=>{if(!_())return;let t=document.querySelector("[data-selected]");"Enter"===e.key?t&&(e.preventDefault(),A({target:t.querySelector("button")})):"ArrowDown"===e.key?(t.removeAttribute("data-selected"),m>=c.querySelectorAll("li").length-1?m=0:m+=1,t=c.querySelector(`[data-index="${m}"]`),t.setAttribute("data-selected",1),t.scrollIntoView({block:"nearest"})):"ArrowUp"===e.key?(t.removeAttribute("data-selected"),m>0?m-=1:m=c.querySelectorAll("li").length-1,t=c.querySelector(`[data-index="${m}"]`),t.setAttribute("data-selected",1),t.scrollIntoView({block:"nearest"})):"Escape"===e.key&&(v(),e.stopPropagation())},S=()=>{r.value="",w(),r.focus()};document.addEventListener("keyup",x,{capture:!0}),r.addEventListener("keydown",L),r.addEventListener("keyup",e(w,250)),r.addEventListener("focus",k),s.addEventListener("click",S),b.length>0&&b.forEach((e=>{h(e)}))}document.querySelectorAll("[data-autocomplete]").forEach((e=>{a(e)}));n(8693);function o(e){const t=t=>{const n=t.target.getAttribute("data-confirmable");var a;a={message:n,buttons:[{label:"Cancel",class:"button--secondary"},{label:t.target.innerText,class:t.target.getAttribute("class"),onClick:()=>{document.querySelector(`#${e.getAttribute("form")}`).submit()}}]},(()=>{document.body.classList.add("modal-open");const e=document.createElement("dialog");e.setAttribute("class","modal"),e.setAttribute("tabindex","-1");const t=document.createElement("div");t.setAttribute("class","modal__box"),e.appendChild(t);const n=document.createElement("p");n.innerText=a.message,t.appendChild(n);const o=document.createElement("p");o.setAttribute("class","modal__options"),t.appendChild(o),a.buttons.forEach((t=>{const n=document.createElement("button");n.setAttribute("class",`button ${t.class}`.trim()),n.setAttribute("type","button"),n.innerText=t.label,n.addEventListener("click",(()=>{Object.prototype.hasOwnProperty.call(t,"onClick")&&t.onClick(),e.close()})),o.appendChild(n)})),e.addEventListener("click",(t=>{"DIALOG"===t.target.tagName&&e.close()})),document.body.appendChild(e),e.showModal(),e.focus()})()};e.addEventListener("click",t,!0)}document.querySelectorAll("[data-confirmable]").forEach((e=>{o(e)}));n(2563);function r(e){const n=e.getAttribute("data-slug").split(","),a=document.querySelectorAll(n),o=()=>{e.value=(()=>{const e=[];return a.forEach((t=>{"end_release_year"===t.name&&t.value===e.at(-1)||e.push(t.value)})),t(e.join("-"))})()};Array.from(a).forEach((e=>{e.addEventListener("keyup",o)}))}document.querySelectorAll("[data-slug]").forEach((e=>{r(e)}));n(9234),n(6466)}()}();