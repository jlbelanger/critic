(()=>{var e={8693:()=>{function e(e){return e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave the page?"}function t(){window.addEventListener("beforeunload",e,{capture:!0})}function n(){window.removeEventListener("beforeunload",e,{capture:!0})}!function(){const e=document.getElementById("form");if(e){e.querySelectorAll("input,select,textarea").forEach((e=>{e.addEventListener("keyup",t),e.addEventListener("change",t)})),e.addEventListener("submit",n)}}()},2563:()=>{!function(){const e=document.getElementById("nav-show"),t=e.getAttribute("aria-controls"),n=document.getElementById(t),a=()=>{const e=n.closest("dialog");document.body.classList.remove(`show-${t}`),e.close(),e.parentNode.appendChild(n),e.remove(),n.removeEventListener("transitionend",a)},o=()=>{window.removeEventListener("resize",r),e.setAttribute("aria-expanded","false"),document.body.classList.remove(`animate-${t}`),n.addEventListener("transitionend",a)},r=()=>{window.innerWidth>=1024&&(o(),a())},l=e=>{e.preventDefault(),o(e.target)},s=e=>{"DIALOG"===e.target.tagName&&o(e.target)},c=()=>{if(window.innerWidth>=1024)return;e.setAttribute("aria-expanded","true");const a=document.createElement("dialog");a.setAttribute("id",`${t}-dialog`),a.addEventListener("cancel",l),a.addEventListener("click",s);const c=document.createElement("button");c.setAttribute("aria-controls",t),c.setAttribute("aria-expanded","true"),c.setAttribute("class","button--icon"),c.setAttribute("id",`${t}-close`),c.setAttribute("title","Close Menu"),c.setAttribute("type","button"),c.innerText="Close Menu",c.addEventListener("click",(e=>{o(e.target.closest("dialog"))})),a.appendChild(c),document.body.classList.add(`show-${t}`);const d=n.parentNode;n.remove(),a.appendChild(n),d.appendChild(a),a.showModal(),window.addEventListener("resize",r),setTimeout((()=>{document.body.classList.add(`animate-${t}`)}),10)};e.addEventListener("click",c)}()},9234:()=>{function e(e,t=2,n="0"){return n=n||"0",(e=e.toString()).length>=t?e:new Array(t-e.length+1).join(n)+e}function t(){const t=new Date,n=`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}`;document.getElementById("start_date").value=n}!function(){const e=document.querySelector('[data-action="today"]');e&&e.addEventListener("click",t)}()},6466:()=>{function e(){const e=document.getElementById("type").value;document.querySelectorAll("[data-show-for-type]").forEach((t=>{t.getAttribute("data-show-for-type").split(",").includes(e)?t.style.display="":t.style.display="none"}))}!function(){const t=document.getElementById("type");t&&(t.addEventListener("change",e),e())}()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}(()=>{"use strict";const e=(e,t,n)=>{let a;return function(...o){const r=this,l=n&&!a;clearTimeout(a),a=setTimeout((()=>{a=null,n||e.apply(r,o)}),t),l&&e.apply(r,o)}},t=e=>e?e.toLowerCase().replace(/ & /g,"-and-").replace(/<[^>]+>/g,"").replace(/['â€™.]/g,"").replace(/[^a-z0-9-]+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/--+/g,"-"):"";function a(n){const a=n.getAttribute("data-autocomplete"),o=n.getAttribute("data-autocomplete-name"),r=n.querySelector(".autocomplete__input"),l=n.querySelector(".autocomplete__clear"),s=n.querySelector(".autocomplete__results"),c=n.querySelector(".autocomplete__results-list"),d=n.querySelector(".autocomplete__results-none"),i=n.querySelector(".autocomplete__selected-list");let u="",p=null,m=!1,b=n.querySelector("[data-autocomplete-value]").value;b&&(b=JSON.parse(b));const y=()=>{s.style.display="none",c.innerText=""},v=()=>{n.classList.remove("clearable")},g=e=>{const t=e.target.getAttribute("data-id");e.target.closest("li").remove(),r.focus();const n=b.findIndex((e=>e.id===t));n>-1&&(b.splice(n,1),b.length<=0&&(i.style.display="none"))},A=e=>{const t=document.createElement("li");t.setAttribute("class","autocomplete__selected-item");const n=document.createElement("input");n.setAttribute("name",`${o}[]`),n.setAttribute("type","hidden"),n.setAttribute("value",e.id),t.appendChild(n);const a=document.createElement("a");a.setAttribute("class","autocomplete__selected-link"),a.setAttribute("href",e.url),a.innerText=e.title,t.appendChild(a);const l=document.createElement("button");l.setAttribute("class","autocomplete__selected-button"),l.setAttribute("data-id",e.id),l.setAttribute("type","button"),l.addEventListener("click",g),l.innerText="Remove",t.appendChild(l),i.appendChild(t),i.style.display="",r.value="",u="",y(),v()},E=e=>{let t=e.target;"BUTTON"!==t.tagName&&(t=t.closest("button"));const n={id:t.getAttribute("data-id"),url:t.getAttribute("data-url"),title:t.innerText};b.push(n),A(n),r.focus()},h=e=>{document.querySelector("[data-selected]").removeAttribute("data-selected");const t=e.target.closest(".autocomplete__results-item");t.setAttribute("data-selected",1),p=parseInt(t.getAttribute("data-index"),10)},f=e=>{m||(m=!0,n.classList.add("loading"),fetch(`${a}${e}`).then((e=>e.json())).then((e=>{n.classList.remove("loading");let t=!1,a=0;c.innerText="",e.items.forEach((e=>{if(b.findIndex((t=>t.id===e.id))>-1)return;const n=((e,t)=>{const n=document.createElement("li");n.setAttribute("class","autocomplete__results-item"),n.setAttribute("data-index",e),0===e&&(n.setAttribute("data-selected",1),p=e);const a=document.createElement("button");return a.setAttribute("class","autocomplete__results-button"),a.setAttribute("data-id",t.id),a.setAttribute("data-url",t.url),a.setAttribute("type","button"),a.innerText=t.title,a.addEventListener("click",E),a.addEventListener("mouseover",h),n.appendChild(a),n})(a,e);c.appendChild(n),a+=1,t=!0})),s.style.display="",t?(d.style.display="none",c.style.display="",c.firstChild.scrollIntoView({block:"nearest"})):(d.style.display="",c.style.display="none"),m=!1})))},L=e=>{"Enter"===e.key&&r.value&&e.preventDefault()},w=()=>{const e=t(r.value);e?(n.classList.add("clearable"),e!==u&&(u=e,f(e))):(v(),u="",y())},_=()=>"none"!==s.style.display,k=()=>{const e=t(r.value);e&&!_()&&f(e)},x=e=>{if(!_())return;let t=document.querySelector("[data-selected]");"Enter"===e.key?t&&(e.preventDefault(),E({target:t.querySelector("button")})):"ArrowDown"===e.key?(t.removeAttribute("data-selected"),p>=c.querySelectorAll("li").length-1?p=0:p+=1,t=c.querySelector(`[data-index="${p}"]`),t.setAttribute("data-selected",1),t.scrollIntoView({block:"nearest"})):"ArrowUp"===e.key?(t.removeAttribute("data-selected"),p>0?p-=1:p=c.querySelectorAll("li").length-1,t=c.querySelector(`[data-index="${p}"]`),t.setAttribute("data-selected",1),t.scrollIntoView({block:"nearest"})):"Escape"===e.key&&(y(),e.stopPropagation())},S=()=>{r.value="",w(),r.focus()};document.addEventListener("keyup",x,{capture:!0}),r.addEventListener("keydown",L),r.addEventListener("keyup",e(w,250)),r.addEventListener("focus",k),l.addEventListener("click",S),b.length>0&&b.forEach((e=>{A(e)}))}document.querySelectorAll("[data-autocomplete]").forEach((e=>{a(e)}));n(8693);function o(e){const t=t=>{const n=t.target.getAttribute("data-confirmable");var a;a={message:n,buttons:[{label:"Cancel",class:"button--secondary"},{label:t.target.innerText,class:t.target.getAttribute("class"),onClick:()=>{document.querySelector(`#${e.getAttribute("form")}`).submit()}}]},(()=>{document.body.classList.add("modal-open");const e=document.createElement("dialog");e.setAttribute("class","modal"),e.setAttribute("tabindex","-1");const t=document.createElement("div");t.setAttribute("class","modal__box"),e.appendChild(t);const n=document.createElement("p");n.innerText=a.message,t.appendChild(n);const o=document.createElement("p");o.setAttribute("class","modal__options"),t.appendChild(o),a.buttons.forEach((t=>{const n=document.createElement("button");n.setAttribute("class",`button ${t.class}`.trim()),n.setAttribute("type","button"),n.innerText=t.label,n.addEventListener("click",(()=>{Object.prototype.hasOwnProperty.call(t,"onClick")&&t.onClick(),e.close()})),o.appendChild(n)})),e.addEventListener("click",(t=>{"DIALOG"===t.target.tagName&&e.close()})),document.body.appendChild(e),e.showModal(),e.focus()})()};e.addEventListener("click",t,!0)}document.querySelectorAll("[data-confirmable]").forEach((e=>{o(e)}));n(2563);function r(e){const n=e.getAttribute("data-slug").split(","),a=document.querySelectorAll(n),o=()=>{e.value=(()=>{const e=[];return a.forEach((t=>{"end_release_year"===t.name&&t.value===e.at(-1)||e.push(t.value)})),t(e.join("-"))})()};Array.from(a).forEach((e=>{e.addEventListener("keyup",o)}))}document.querySelectorAll("[data-slug]").forEach((e=>{r(e)}));n(9234),n(6466)})()})();